<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZADDY Memeverse ‚Ä¢ Fan-Run Hub</title>
  <meta name="description" content="Fan-run ZADDY hub: make and share memes, join weekly contests, and celebrate the community vibe. Unofficial, non-financial site." />
  <meta name="theme-color" content="#ff66a6" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;700;800&family=Inter:wght@400;500;600;700&family=Poppins:wght@700;800;900&display=swap" rel="stylesheet">

  <!-- Tailwind (CDN for GitHub Pages) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      /* Presale-ish pastel palette */
      --pink:#FEA6CC;     /* pill pink */
      --blue:#BFE2FF;
      --lblue:#DCEBFF;
      --mint:#BAF7D5;
      --green:#C7EED9;
      --yellow:#FFF4A3;
      --ink:#0f172a;

      /* Fixed bars */
      --ticker-h: 48px;
      --pillnav-h: 100px; /* matches presale proportions at desktop */
      --banner-pink:#FF66A6; /* your chosen ticker pink */
    }
    html{scroll-behavior:smooth}
    body{
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:#0f172a;
      background:#fff;
      /* Leave space for fixed ticker + nav */
      padding-top: calc(var(--ticker-h) + var(--pillnav-h));
    }
    .h-font{font-family:'Baloo 2', system-ui, -apple-system}

    /* Soft background candy blobs (optional; keep from prior) */
    .candy-bg{
      background:
        radial-gradient(900px 500px at 15% -10%, #ffb3c733 0%, transparent 60%),
        radial-gradient(800px 520px at 90% -15%, #bfe2ff33 0%, transparent 60%),
        radial-gradient(700px 500px at -10% 70%, #baf7d533 0%, transparent 60%),
        radial-gradient(600px 420px at 110% 80%, #fff4a333 0%, transparent 60%);
    }

    .card{backdrop-filter:saturate(160%) blur(8px); background:rgba(255,255,255,.75); border:1px solid rgba(15,23,42,.08); border-radius:24px; box-shadow:0 10px 30px rgba(15,23,42,.08)}
    .chip{display:inline-flex; align-items:center; gap:.5rem; border-radius:9999px; padding:.35rem .75rem; font-size:.75rem; font-weight:700; letter-spacing:.02em; background:linear-gradient(90deg, var(--pink), #d7c8ff); color:#432a59}
    .badge{font-size:.7rem; font-weight:800; text-transform:uppercase; letter-spacing:.06em; color:#432a59}
    .pill{border-radius:9999px; padding:.2rem .6rem; background:#d7c8ff}

    img{content-visibility:auto}

    /* ===========================
       TOP TICKER (fixed, scrolling)
       =========================== */
    .ticker{
      position: fixed; top:0; left:0; right:0; z-index:9999;
      height: var(--ticker-h);
      display:flex; align-items:center;
      background: var(--banner-pink);
      border-bottom: 3px solid #000;
      overflow: hidden;
    }
    .ticker-track{
      display:flex; gap:36px; align-items:center; white-space:nowrap;
      will-change: transform;
      animation: slide-left linear infinite;
      /* speed: distance / time -> increase duration for slower; decrease for faster */
      animation-duration: 22s;
    }
    .ticker-item{
      display:inline-flex; align-items:center; gap:12px;
      color:#111; font-weight:900; letter-spacing:.02em;
      text-transform: uppercase;
    }
    .dot{display:inline-block; width:6px; height:6px; background:#111; border-radius:50%}
    @keyframes slide-left{
      from{ transform: translateX(0) }
      to  { transform: translateX(-50%) }
    }

    /* ===========================
       PRESALE-STYLE NAV (fixed)
       =========================== */
    .pillnav{
      position: fixed; top: var(--ticker-h); left:0; right:0; z-index:9998;
      background: #f4f4f4;
      border-bottom: 2px solid #000;
    }
    .pillnav-frame{
      max-width: 1260px; margin: 0 auto;
      padding: 14px 18px;
      display: grid;
      grid-template-columns: 1fr auto 1fr;  /* logo ‚Ä¢ center pills ‚Ä¢ utilities */
      align-items: center;
      gap: 16px;
      min-height: calc(var(--pillnav-h) - 16px);
    }
    .brand{ display:inline-flex; align-items:center; text-decoration:none; }
    .brand-img{ height:60px; width:auto; display:block }

    .pillnav-center{
      display:flex; align-items:center; justify-content:center;
      gap:16px; flex-wrap: nowrap;
    }
    .pillnav-right{
      display:flex; align-items:center; justify-content:flex-end;
      gap:16px;
    }

    .pillbtn{
      display:inline-flex; align-items:center; justify-content:center;
      height:44px; padding: 0 18px;
      border-radius: 14px;
      font: 800 14px/1 Poppins, Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      letter-spacing: .02em; text-transform: uppercase;
      border: 2px solid #111; color: #111; text-decoration: none;
      box-shadow: 0 4px 0 #111;
      background:#fff;
      transition: transform .08s ease, box-shadow .08s ease, filter .12s;
      white-space: nowrap;
    }
    .pillbtn:hover  { transform: translateY(-2px); box-shadow: 0 5px 0 #111; }
    .pillbtn:active { transform: translateY(2px);  box-shadow: 0 2px 0 #111; }

    .pill-pink   { background: var(--pink); }
    .pill-blue   { background: var(--blue); }
    .pill-lblue  { background: var(--lblue); }
    .pill-mint   { background: var(--mint); }
    .pill-green  { background: var(--green); }
    .pill-yellow { background: var(--yellow); }
    .pill-mix{ background: linear-gradient(90deg, #EDEDED, #FFFFFF); }

    @media (max-width:1100px){
      .brand-img{ height:54px }
      .pillbtn{ height:42px; padding:0 16px; font-size:13px }
    }
    @media (max-width:980px){
      :root{ --pillnav-h: 140px; }
      .pillnav-frame{
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto; /* logo ‚Ä¢ center ‚Ä¢ right */
        justify-items:center;
      }
      .pillnav-right{ justify-content:center }
      .pillnav-center{ flex-wrap: wrap; row-gap: 12px }
    }
    @media (max-width:600px){
      :root{ --pillnav-h: 160px; }
      .brand-img{ height:48px }
      .pillbtn{ height:40px; padding:0 12px; font-size:12px }
    }
  </style>

  <!-- OG/Twitter -->
  <meta property="og:title" content="ZADDY Memeverse ‚Ä¢ Fan-Run Hub" />
  <meta property="og:description" content="Make and share memes, join daily contests. Unofficial fan site." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/images/og-cover.png" />
  <meta name="twitter:card" content="summary_large_image" />
</head>
<body class="candy-bg">

  <!-- ================= TOP TICKER ================= -->
  <div class="ticker">
    <div class="ticker-track" id="tickerTrack">
      <!-- Repeat content twice for seamless loop -->
      <div class="ticker-item">THE ZADDY COIN ($ZADDY) PRESALE/ICO IS LIVE<div class="dot"></div></div>
      <div class="ticker-item">CROSS-CHAIN AND MULTI-CHAIN ERC-20 TOKEN<div class="dot"></div></div>
      <div class="ticker-item">UNMATCHED SCALABILITY<div class="dot"></div></div>
      <div class="ticker-item">GENEROUS REWARDS<div class="dot"></div></div>
      <div class="ticker-item">MOST VALUABLE TOKEN COMING TO THE XRPL<div class="dot"></div></div>

      <div class="ticker-item">THE ZADDY COIN ($ZADDY) PRESALE/ICO IS LIVE<div class="dot"></div></div>
      <div class="ticker-item">CROSS-CHAIN AND MULTI-CHAIN ERC-20 TOKEN<div class="dot"></div></div>
      <div class="ticker-item">UNMATCHED SCALABILITY<div class="dot"></div></div>
      <div class="ticker-item">GENEROUS REWARDS<div class="dot"></div></div>
      <div class="ticker-item">MOST VALUABLE TOKEN COMING TO THE XRPL<div class="dot"></div></div>
    </div>
  </div>

  <!-- ================ PRESALE-STYLE NAV ================ -->
  <nav class="pillnav">
    <div class="pillnav-frame">
      <!-- Left: Logo -->
      <a href="#top" class="brand">
        <img src="/images/zaddyverse.png" alt="ZaddyVerse" class="brand-img">
      </a>

      <!-- Center: Pills -->
      <div class="pillnav-center">
        <a href="#about"        class="pillbtn pill-pink">About</a>
        <a href="#how"          class="pillbtn pill-blue">How to Buy</a>
        <a href="#stake"        class="pillbtn pill-mint">Stake</a>
        <a href="#zaddynomics"  class="pillbtn pill-yellow">Zaddynomics</a>
        <a href="#faq"          class="pillbtn pill-pink">FAQs</a>
        <a href="#whitepaper"   class="pillbtn pill-lblue">Whitepaper</a>
        <a href="#contract"     class="pillbtn pill-green">0x5EEB‚Ä¶D4A8E</a>
      </div>

      <!-- Right: utilities -->
      <div class="pillnav-right">
        <a href="#community" class="pillbtn pill-mix" aria-label="Socials">‚úàÔ∏é  ùïè  ‚ú≥Ô∏é</a>
        <a href="#lang" class="pillbtn pill-pink">EN ‚ñæ</a>
      </div>
    </div>
  </nav>

  <!-- ======================= HERO ======================= -->
  <section id="top" class="pt-10 pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid lg:grid-cols-2 gap-10 items-center">
      <div>
        <span class="chip mb-4">Fan-Run ‚Ä¢ Memes ‚Ä¢ Good Vibes</span>
        <h1 class="h-font text-4xl md:text-5xl leading-tight">
          Make Memes. <span style="background:linear-gradient(90deg,var(--pink),var(--blue)); -webkit-background-clip:text; background-clip:text; color:transparent">Boost ZADDY.</span>
        </h1>
        <p class="mt-3 text-slate-700 text-lg">
          This is an <strong>unofficial</strong>, community-driven hub to create, share, and celebrate <strong>$ZADDY</strong> memes. No financial advice. Just culture, contests, and fun.
        </p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a class="btn btn-candy inline-flex items-center justify-center rounded-full font-extrabold px-4 py-3" style="background:linear-gradient(90deg, var(--pink), var(--blue)); color:#2b1d3b;" href="#create">Create a Meme</a>
          <a class="btn btn-outline inline-flex items-center justify-center rounded-full font-extrabold px-4 py-3 border-2 border-dashed" href="#gallery">View Gallery</a>
        </div>
        <div class="mt-6 grid grid-cols-3 gap-4 text-center">
          <div class="card p-4"><div class="h-font text-2xl">0</div><div class="badge">Creators</div></div>
          <div class="card p-4"><div class="h-font text-2xl" id="kpi-memes">0</div><div class="badge">Memes</div></div>
          <div class="card p-4"><div class="h-font text-2xl">0</div><div class="badge">Shares</div></div>
        </div>
      </div>
      <div>
        <div class="card p-2">
          <picture>
            <source media="(max-width: 640px)" srcset="/images/hero-meme-machine.webp" type="image/webp">
            <source srcset="/images/hero-meme-machine.webp" type="image/webp">
            <img
              src="/images/hero-meme-machine.png"
              alt="Creator feeding a Zaddy coin into a pastel meme machine while a meme appears on the screen"
              class="rounded-2xl w-full h-auto shadow-[0_10px_30px_rgba(15,23,42,0.10)]" />
          </picture>

        </div>
        <p class="text-xs text-slate-600 mt-2">Replace <code>/images/hero-demo.png</code> with your own banner.</p>
      </div>
    </div>
  </section>

  <!-- ================== HOW ================== -->
  <section id="how" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="h-font text-3xl md:text-4xl mb-6">How it Works</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="card p-6">
          <div class="pill badge">Step 1</div>
          <h3 class="h-font text-xl mt-2">Create or Upload</h3>
          <p class="mt-2">Drop your PNG/JPG or use templates. Get a shareable link instantly.</p>
        </div>
        <div class="card p-6">
          <div class="pill badge">Step 2</div>
          <h3 class="h-font text-xl mt-2">Share & Tag</h3>
          <p class="mt-2">Post on X/TikTok/IG with <strong>#ZaddyMeme</strong>. Rally your squad.</p>
        </div>
        <div class="card p-6">
          <div class="pill badge">Step 3</div>
          <h3 class="h-font text-xl mt-2">Climb the Board</h3>
          <p class="mt-2">Top memes get spotlighted weekly. Tips & boosts coming in Phase 2.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ============== CREATE CTA ============== -->
  <section id="create" class="pb-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="card p-6 md:p-8 flex flex-col md:flex-row items-center justify-between gap-6">
        <div>
          <h3 class="h-font text-2xl">Ready to post your first meme?</h3>
          <p class="mt-1">Upload to the gallery folder and add filenames to the <code>IMAGES</code> list. Zero backend needed.</p>
        </div>
        <div class="flex gap-3">
          <a class="btn btn-candy inline-flex items-center justify-center rounded-full font-extrabold px-4 py-3" style="background:linear-gradient(90deg, var(--pink), var(--blue)); color:#2b1d3b;" href="#gallery">Upload Meme</a>
          <a class="btn btn-outline inline-flex items-center justify-center rounded-full font-extrabold px-4 py-3 border-2 border-dashed" href="#contest">See Weekly Contest</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ================== GALLERY ================== -->
  <section id="gallery" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-end justify-between gap-4 mb-4">
        <h2 class="h-font text-3xl md:text-4xl">Community Gallery</h2>
        <div class="text-sm text-slate-600">Add images to <code>/images/gallery/</code> and list in <code>IMAGES</code>.</div>
      </div>
      <div id="gallery-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"></div>
      <div class="mt-6 text-center">
        <button id="loadMoreBtn" class="inline-flex items-center justify-center border-2 border-dashed rounded-full px-4 py-2 font-extrabold">Load more</button>
      </div>
    </div>
  </section>

  <!-- ============== TEMPLATE OF THE DAY ============== -->
  <section id="templates" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="card p-6 md:p-8">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
          <div>
            <h3 class="h-font text-2xl md:text-3xl">Template of the Day</h3>
            <p class="mt-2 text-slate-700">Download a fresh pastel frame and start memeing. Files are optimized for social (1080√ó1080 PNG).</p>
          </div>
          <div class="flex flex-wrap gap-3">
            <a id="tod-download" class="inline-flex items-center justify-center rounded-full font-extrabold px-4 py-3" style="background:linear-gradient(90deg, var(--pink), var(--blue)); color:#2b1d3b;" href="/templates/zaddy-template-1.png" download>Download Template</a>
            <button id="tod-copy" class="inline-flex items-center justify-center border-2 border-dashed rounded-full px-4 py-3 font-extrabold">Copy Tweet Text</button>
          </div>
        </div>
        <p class="text-xs text-slate-600 mt-2">Place templates in <code>/templates/</code> (e.g., <code>zaddy-template-1.png</code>). The button above will download the current one.</p>
      </div>
    </div>
  </section>

  <!-- ================== CONTEST ================== -->
  <section id="contest" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="card p-6 md:p-8 grid lg:grid-cols-2 gap-6 items-center">
        <div>
          <span class="chip">Daily Meme Contest</span>
          <h3 class="h-font text-2xl md:text-3xl mt-2">#ZaddyDaily ‚Äî Create Today, Win Today</h3>
          <ul class="mt-3 list-disc list-inside">
            <li><strong>Reset:</strong> Every day at 23:59:59 UTC</li>
            <li><strong>How to enter:</strong> Post your meme on X with <strong>#ZaddyMeme</strong> & <strong>#ZaddyDaily</strong> and paste the link in the submission form</li>
            <li><strong>Winners:</strong> Top community-voted entries featured on homepage + Discord</li>
          </ul>
          <div class="mt-4 flex flex-wrap gap-3 items-center">
            <a class="inline-flex items-center justify-center rounded-full font-extrabold px-4 py-3" style="background:linear-gradient(90deg, var(--pink), var(--blue)); color:#2b1d3b;" href="#submit">Submit Now</a>
            <span class="badge pill">Time left today: <span id="daily-countdown" class="ml-1 font-bold">--:--:--</span></span>
          </div>
          <p class="text-xs text-slate-600 mt-3">Tip: Higher engagement on X (likes/retweets/comments) improves visibility but winners are curated from submissions.</p>
        </div>
        <div>
          <img src="/images/contest-card.png" class="rounded-2xl w-full h-auto" alt="Contest card" />
          <p class="text-xs text-slate-600 mt-2">Replace <code>/images/contest-card.png</code> as your daily theme art.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ================== LEADERBOARD ================== -->
  <section id="leaderboard" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="h-font text-3xl md:text-4xl mb-6">Leaderboard</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="card p-6"><div class="h-font text-4xl">ü•á</div><h4 class="h-font text-xl mt-2">@handle_one</h4><p>‚ÄúMeme Title One‚Äù ‚Äî 12,340 votes</p></div>
        <div class="card p-6"><div class="h-font text-4xl">ü•à</div><h4 class="h-font text-xl mt-2">@handle_two</h4><p>‚ÄúMeme Title Two‚Äù ‚Äî 9,210 votes</p></div>
        <div class="card p-6"><div class="h-font text-4xl">ü•â</div><h4 class="h-font text-xl mt-2">@handle_three</h4><p>‚ÄúMeme Title Three‚Äù ‚Äî 7,880 votes</p></div>
      </div>
      <p class="text-sm text-slate-600 mt-3">Update weekly. You can swap this for a Google Sheet embed later.</p>
    </div>
  </section>

  <!-- ================== OFFICIAL LINKS ================== -->
  <section id="links" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="card p-8 text-center">
        <h3 class="h-font text-2xl md:text-3xl">Official Links</h3>
        <p class="mt-2 text-slate-700">Add only verified, official links here to avoid scams. This site is <strong>fan-run</strong> and not affiliated.</p>
        <div class="mt-5 flex flex-wrap items-center justify-center gap-3">
          <a class="pillbtn pill-pink" href="#">Official Presale</a>
          <a class="pillbtn pill-lblue" href="#">Whitepaper</a>
          <a class="pillbtn pill-mint" href="#">Telegram</a>
        </div>
        <p class="text-xs text-slate-500 mt-3">Not financial advice. Always DYOR.</p>
      </div>
    </div>
  </section>

  <!-- ================== FAQ ================== -->
  <section id="faq" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="h-font text-3xl md:text-4xl mb-6">FAQ</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <details class="card p-6" open>
          <summary class="h-font cursor-pointer">Is this official?</summary>
          <p class="mt-2">No. This is an <strong>unofficial, fan-run</strong> community page to celebrate ZADDY culture. We don‚Äôt sell tokens and we don‚Äôt provide financial advice.</p>
        </details>
        <details class="card p-6">
          <summary class="h-font cursor-pointer">How do I add memes to the gallery?</summary>
          <p class="mt-2">Upload images to <code>/images/gallery/</code> and list filenames in the <code>IMAGES</code> array at the bottom of this file. The grid will auto-render them.</p>
        </details>
        <details class="card p-6">
          <summary class="h-font cursor-pointer">How are winners chosen?</summary>
          <p class="mt-2">By community voting and manual curation for now. On-chain boosts and tipping are planned for a future phase.</p>
        </details>
        <details class="card p-6">
          <summary class="h-font cursor-pointer">Financial advice?</summary>
          <p class="mt-2">None here. Memes only. Please do your own research.</p>
        </details>
      </div>
    </div>
  </section>

  <footer class="border-t border-slate-200/60">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-sm text-slate-600 flex flex-col md:flex-row items-center justify-between gap-3">
      <div>¬© <span id="year"></span> ZADDY Memeverse ‚Äî Fan-Run ‚Ä¢ Unofficial</div>
      <div class="flex items-center gap-4">
        <a href="#faq" class="hover:underline">FAQ</a>
        <a href="#links" class="hover:underline">Official Links</a>
        <a href="#" class="hover:underline">Privacy</a>
      </div>
    </div>
  </footer>

  <!-- ================== SUBMISSION ================== -->
  <section id="submit" class="pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="card p-6 md:p-8">
        <h3 class="h-font text-2xl md:text-3xl">Submit Your Meme (Daily)</h3>
        <p class="mt-2 text-slate-700">
          This site is static (GitHub Pages), so submissions use an external form. Replace the placeholder link below with your own
          <strong>Google Form</strong> (or Typeform). Until then, you can submit via mailto as a fallback.
        </p>

        <div class="mt-4 grid md:grid-cols-2 gap-6">
          <!-- Option A: Google Form (replace URL) -->
          <div class="card p-5">
            <h4 class="h-font text-xl">Option A ‚Äî Google Form</h4>
            <p class="mt-2">Create a form with fields: Handle, Meme URL (X post), Optional caption. Then paste the share URL here:</p>
            <a id="formLink" class="pillbtn pill-pink mt-3" href="https://example.com/your-google-form" target="_blank" rel="noopener">Open Submission Form</a>
            <p class="text-xs text-slate-600 mt-2">Edit the href of <code>#formLink</code> in <code>index.html</code> once your form is live.</p>
          </div>

          <!-- Option B: Mailto fallback -->
          <div class="card p-5">
            <h4 class="h-font text-xl">Option B ‚Äî Email Fallback</h4>
            <p class="mt-2">Click below to prefill an email to the mods with your entry link.</p>
            <a class="pillbtn pill-lblue mt-3" id="mailtoBtn" href="#">Email My Submission</a>
            <label class="block mt-4 text-sm">Your X (Twitter) post URL
              <input id="tweetUrl" type="url" placeholder="https://x.com/yourhandle/status/123" class="mt-1 w-full rounded-xl border border-slate-300 px-3 py-2" />
            </label>
          </div>
        </div>

        <p class="mt-6 text-xs text-slate-600">By submitting you agree that your meme may be reposted on our social channels and site. Don‚Äôt upload copyrighted or hateful content.</p>
      </div>
    </div>
  </section>

  <!-- ================== SCRIPTS ================== -->
  <script>
    // Footer year
    const yEl = document.getElementById('year'); if (yEl) yEl.textContent = new Date().getFullYear();

    // Daily countdown
    function updateCountdown(){
      const now = new Date();
      const next = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), 23,59,59,999));
      if (next - now < 0) { next.setUTCDate(next.getUTCDate()+1); }
      const s = Math.floor((next - now)/1000);
      const hh = String(Math.floor(s/3600)).padStart(2,'0');
      const mm = String(Math.floor((s%3600)/60)).padStart(2,'0');
      const ss = String(s%60).padStart(2,'0');
      const el = document.getElementById('daily-countdown'); if(el) el.textContent = `${hh}:${mm}:${ss}`;
    }
    setInterval(updateCountdown, 1000); updateCountdown();

    // Mailto fallback
    const mailBtn = document.getElementById('mailtoBtn');
    if (mailBtn) {
      mailBtn.addEventListener('click', (e)=>{
        e.preventDefault();
        const url = (document.getElementById('tweetUrl')||{}).value||'';
        const subject = encodeURIComponent('ZADDY Daily Meme Submission');
        const body = encodeURIComponent(`Handle: @yourhandle
Meme URL: ${url}
Hashtags: #ZaddyMeme #ZaddyDaily`);
        window.location.href = `mailto:mods@yoursite.tld?subject=${subject}&body=${body}`;
      });
    }

    // Toast helper
    function toast(msg){
      const t = document.createElement('div');
      t.textContent = msg; t.className = 'fixed bottom-5 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-full bg-black/80 text-white text-sm shadow';
      document.body.appendChild(t); setTimeout(()=>{ t.remove(); }, 2200);
    }

    // Template: copy tweet text
    const copyBtn = document.getElementById('tod-copy');
    const dlBtn = document.getElementById('tod-download');
    if (copyBtn) {
      copyBtn.addEventListener('click', async ()=>{
        const text = 'I just made a #ZaddyMeme for #ZaddyDaily ‚Äî join the fan-run meme hub and post yours!';
        try { await navigator.clipboard.writeText(text); toast('Tweet text copied ‚úÖ'); } catch(e){ toast('Copy failed ‚Äî select and copy manually'); }
      });
    }
    // Try dated template if exists
    if (dlBtn) {
      const d = new Date();
      const y = d.getUTCFullYear();
      const m = String(d.getUTCMonth()+1).padStart(2,'0');
      const day = String(d.getUTCDate()).padStart(2,'0');
      const candidate = `/templates/zaddy-template-${y}${m}${day}.png`;
      fetch(candidate, {method:'HEAD'}).then(r=>{ if(r.ok){ dlBtn.href = candidate; } });
    }

    // Gallery loader (memes.json if present, else IMAGES[])
    const grid = document.getElementById('gallery-grid');
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    let items = []; let page = 0; const pageSize = 16;

    const IMAGES = [
      // 'meme-01.jpg','meme-02.jpg','meme-03.png'
    ];

    function renderPage(){
      const slice = items.slice(page*pageSize, (page+1)*pageSize);
      slice.forEach(item=>{
        const name = typeof item === 'string' ? item : (item.image||'');
        const href = typeof item === 'string' ? `/images/gallery/${name}` : (item.post || name.replace(/^images\//,'/images/'));
        const src  = typeof item === 'string' ? `/images/gallery/${name}` : name.replace(/^images\//,'/images/');
        const a = document.createElement('a'); a.href = href; a.target = '_blank'; a.rel = 'noopener'; a.className='block overflow-hidden rounded-2xl border border-slate-200/70 bg-white hover:border-pink-300';
        const img = document.createElement('img'); img.loading='lazy'; img.alt='meme'; img.src = src; img.className='w-full h-40 object-cover';
        a.appendChild(img); grid.appendChild(a);
      });
      page++;
      const k = document.getElementById('kpi-memes'); if (k) k.textContent = items.length.toLocaleString();
      if (page*pageSize >= items.length && loadMoreBtn) loadMoreBtn.style.display='none';
    }

    async function loadMemes(){
      try{
        const res = await fetch('/memes.json', {cache:'no-store'});
        if(res.ok){ const json = await res.json(); if (Array.isArray(json) && json.length){ items = json; return; } }
      }catch(e){ /* ignore */ }
      if (IMAGES && IMAGES.length){ items = IMAGES; }
    }

    function resetGallery(){
      page = 0;
      if(grid) grid.innerHTML = '';
      if(items.length){ renderPage(); }
      else { if(loadMoreBtn) loadMoreBtn.style.display='none';
             const empty=document.createElement('div');
             empty.className='text-center text-slate-600';
             empty.innerHTML='Add images to <code>/images/gallery/</code> or set up <code>memes.json</code> to auto-populate.';
             grid.appendChild(empty); }
    }

    if (grid){
      loadMemes().then(()=>{ resetGallery(); });
      if (loadMoreBtn) loadMoreBtn.addEventListener('click', renderPage);
      // poll for updates every 30s
      setInterval(async()=>{ const oldLen = items.length; await loadMemes(); if(items.length !== oldLen){ resetGallery(); } }, 30000);
    }
  </script>
</body>
</html>
